package tool;

import excelInfo.BodyList;
import excelInfo.Field;
import excelInfo.IFWService;
import excelInfo.Input;

public class CreateReqRespStr {
	public static String createRequestAndResponseStr(IFWService ifws){
		StringBuffer sb=new StringBuffer("<!--"+ifws.getServiceName()+"-->");
		
		Input in=ifws.getInput();
		
		if(in.isList_exist()){
			BodyList bl=in.getBodylist();
			Field[] fields=bl.getFields();
			//request普通字段里的list的type属性，对应的是下面的name
			sb.append("<xsd:complexType name=\"" +ifws.getServiceName() +
					"RequestBodyListRow\">");
			sb.append("<xsd:sequence minOccurs=\"0\" maxOccurs=\"1\">");
			for(int i=0;i<fields.length; i++){
				if(fields[i].isNessarySign()){
					sb.append("<xsd:element name=\"" + fields[i].getFieldName()
							+ "\" type=\"" + fields[i].getType()+"\"/>");
				}else{
					sb.append("<xsd:element minOccurs=\"0\" name=\"" + fields[i].getFieldName()
							+ "\" type=\"" + fields[i].getType()+"\"/>");
				}
			}
			sb.append("</xsd:sequence></xsd:complexType>");
			
			sb.append("<xsd:complexType name=\"" + ifws.getServiceName() +
					"RequestBodyList\">");
			sb.append("<xsd:sequence minOccrus=\"0\" maxOccurs=\"unbounded\">");
			sb.append("<xsd:element name=\"row\" type=\"IFWML:" +
						ifws.getServiceName()+"RequestBodyListRow\" maxOccurs=\"unbounded\" minOccurs=\"0\"/>");
			
			
		}
	}
}
